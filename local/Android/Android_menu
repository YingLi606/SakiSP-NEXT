#!/data/data/com.termux/files/usr/bin/bash
# if source $HOME/SakiSP-NEXT/local/Android/Android_function; then
# 	echo -e "${SUSSEC}åŠ è½½å®‰å“åŠŸèƒ½æˆåŠŸ"
# 	log "åŠ è½½å®‰å“åŠŸèƒ½æˆåŠŸ"
# else
# 	echo -e "${WORRY}åŠ è½½å®‰å“åŠŸèƒ½å¤±è´¥"
# 	log "åŠ è½½å®‰å“åŠŸèƒ½å¤±è´¥"
# fi
for script in $HOME/SakiSP-NEXT/local/Android/function/* ; do
	source "$script" 
	log "åŠ è½½:$script"
done
case $1 in
install)
	case $2 in
	proot)
		log "å®‰è£…prootå®¹å™¨"
		install_proot
		;;
	*)
		echo -e "\n$WORRYè¯·è¾“å…¥å®Œæ•´å‘½ä»¤\ninstall proot"
		;;
	esac

	;;
start)
	case $2 in
	proot)
		log "å¯åŠ¨prootå®¹å™¨"
		start_proot
		;;
	*)
		echo -e "\n$WORRYè¯·è¾“å…¥å®Œæ•´å‘½ä»¤\nstart proot"
		;;
	esac

	;;
*)
	Android_menu=$(
		whiptail --title "SakiSP-NEXT V8.2.1" --menu "è¯·é€‰æ‹©åŠŸèƒ½" 15 60 8 \
			"1" "ğŸ€ ç®¡ç†prootå®¹å™¨" \
			"2" "ğŸ¤“ åƒåœ¾æ¸…ç†" \
			"3" "ğŸ¸ Androidè½¯ä»¶å•†åº—ï¼ˆå°é²œï¼‰" \
			"4" "ğŸ—‘ å¸è½½è„šæœ¬" \
			"0" "ğŸŒš é€€å‡º" \
			"D" "â›³ï¸ debuger"  3>&1 1>&2 2>&3
	)
	case $Android_menu in
	1)
		log "ç®¡ç†prootå®¹å™¨"
		open_proot=$(
			whiptail --title "é€‰æ‹©åŠŸèƒ½" --menu "è¯·æŒ‰è‡ªå·±çš„éœ€æ±‚æ¥" 15 60 4 \
				"1" "å®‰è£…prootå®¹å™¨" \
				"2" "å¯åŠ¨prootå®¹å™¨" \
				"3" "åˆ é™¤prootå®¹å™¨" \
				"0" "é€€å‡º" 3>&1 1>&2 2>&3
		)
		case $open_proot in
		1)
			log "å®‰è£…prootå®¹å™¨"
			install_proot
			;;
		2)
			log "å¯åŠ¨prootå®¹å™¨"
			start_proot
			;;
		3)
			log "åˆ é™¤prootå®¹å™¨"
			rm_proot
			;;
		*)
			log "é€€å‡º"
			echo -e "${RED}QUIT$RES"
			;;
		esac
		;;
	2)
		log "åƒåœ¾æ¸…ç†"
		garbage_collection
		;;
	3)
		log "Androidè½¯ä»¶å•†åº—"
		android_store
		;;	
	4)
		log "å¸è½½è„šæœ¬"
		uninstall_sakispnext
		;;			
	D)
		debuger
		;;
	esac
	;;
esac
